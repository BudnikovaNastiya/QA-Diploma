# План автоматизации тестирования приложения "Путешествие дня" 

### Виды тестирования
* Функциональное тестирование приложения покупки путешествия через дебетовую и кредитную карты.
* Тестирование пользовательского интерфейса.

#### Уровни тестирования
* Модульное (оплата тура по дебетовой карте, оплата тура по кредитной карте)
* Интеграционное (интегация с СУБД)

### Тестовые данные

Приложение располагается в файле aqa-shop.jar

Карты, предоставленные для тестирования в файле data.json:
* 4444 4444 4444 4441, status "APPROVED"
* 4444 4444 4444 4442, status "DECLINED"

Валидными-корректными данными при заполнении полей ввода в приложении следует считать:
* Поле "Номер карты": цифры, 16 шт. Данные с платежной карты.
* Поле "Месяц": цифры 01-12, не ранее текущего месяца, если год окончания действия карты - год подачи заявки. Данные с платежной карты.
* Поле "Год": последние две цифры  номера года, не ранее текущего года.  Не более + 5  лет от текущего года. Данные с платежной карты.
* Поле "Владелец": буквы  латинского алфавита. Данные с платежной карты.
* Поле "CVC": цифры, 3 шт. С оборота платежной карты.

Не валидными и некорректными данными считать:
* Поле "Номер карты": количество цифр меньше 16 шт. ввод любых символов не являющихся цыфрами. Пустое поле.
* Поле "Месяц": цифры 00, 13. Предыдущий месяц, любой до текущего. ввод любых символов не являющихся цыфрами. Пустое поле.
* Поле "Год": любой предыдущий год до настоящего. Год который >=+ 6 лет к году указанному на карте. ввод любых символов не являющихся цыфрами. Пустое поле.
* Поле "Владелец": ввод любых символов не являющихся буквами латинского алфавита. Пустое поле.
* Поле "CVC": количество цифр менее 3 шт. ввод любых символов не являющихся цыфрами. Пустое поле.

Базы данных используемые для тестирования:
* MySql
* PostgreSQL 

***
## Перечень автоматизируемых сценариев 

Необходимо автоматизировать проверку оплаты тура по дебетовой и кредитной карте позитивными и негативными сценариями которые будут включать в себя проверку успешности проведения операции и вводимые для операции данные.

Предусловие:
Быть на странице http://localhost:8080/


* Шаги при оплате дебетовой картой:
1. Нажать на кнопку с надписью Купить. 
2. Ввести данные дебетовой карты и нажать кнопку с надписью Продолжить. 
3. Проверить, что оплата прошла успешно и появилось сообщение, о том что тур куплен(позитивный сценарий) или проверить наличие сообщения об ошибке если операция отклонена банком либо введены некорректные данные(негативный сценарий).

* Шаги при оплате кредитной картой:
1. Нажать на кнопку с надписью Купить в кредит. 
2. Ввести данные кредитной карты и нажать кнопку с надписью Продолжить. 
3. Проверить, что оплата прошла успешно и появилось сообщение, о том что тур куплен(позитивный сценарий) или проверить наличие сообщения об ошибке если операция отклонена банком либо введены некорректные данные(негативный сценарий).

### Тестовые сценарии 


#### Позитивные сценарии 
1. Оплата картой со статусом APPROVED
Номер карты 4444 4444 4444 4441. Все поля заполнены корректными данными.
Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком". 
Ожидаемый результат: статус карты APPROVED



2. Кредит картой со статусом APPROVED
Номер карты 4444 4444 4444 4441. Все поля заполнены корректными данными.
Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком".
Ожидаемый результат: статус карты APPROVED


#### Негативные сценарии 
1. Оплата по карте со статусом DECLINED
Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями   
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции".
Ожидаемый результат: статус карты DECLINED


1. Кредит по карте со статусом DECLINED
Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями  
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции".
Ожидаемый результат: статус карты DECLINED

1. Оплата по карте, с неверным номером карты.
Номер карты 4444 4444 4444 4443, остальные поля заполнены корректными значениями  
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции".
Ожидаемый результат: записи в БД нет

1. Кредит по карте, с неверным номером карты. 
Номер карты 4444 4444 4444 4443, остальные поля заполнены корректными значениями  
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции".
Ожидаемый результат: записи в БД нет 

1. Оплата по карте, оставить поле номера карты пустым.
Номер карты, оставить поле пустым, остальные поля заполнены корректными значениями.
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Поле обязательно для заполнения"

1. Кредит по карте, оставить поле номера карты пустым.
Номер карты, оставить поле пустым, остальные поля заполнены корректными значениями.
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Поле обязательно для заполнения"

1. Оплата по карте, указан невалидный номер.
Номер карты 4444 4444 4444 444, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Неверный формат"

1. Кредит по карте, указан невалидный номер.
Номер карты 4444 4444 4444 444, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Неверный формат".

1. Оплата по карте с истекшим сроком действия по месяцу действия. 
Номер карты 4444 4444 4444 4441. В Поле "Месяц" указать  предыдущий месяц, любой до текущего. Текущий год, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Кредит по карте с истекшим сроком действия по месяцу действия.
Номер карты 4444 4444 4444 4441,  В Поле "Месяц" указать  предыдущий месяц, любой до текущего. Текущий год, остальные поля заполнены корректными значениями.
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Оплата по карте, указан невалидный месяц   
Номер карты 4444 4444 4444 4441, в поле "Месяц" указать 00, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Кредит по  карте, указан невалидный месяц   
Номер карты 4444 4444 4444 4441, в поле "Месяц" указать 00, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Оплата по карте, указан невалидный месяц   
Номер карты 4444 4444 4444 4441, в поле "Месяц" указать 0, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Кредит по  карте, указан невалидный месяц   
Номер карты 4444 4444 4444 4441, в поле "Месяц" указать 0, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Оплата по  карте, указан невалидный месяц   
Номер карты 4444 4444 4444 4441, в поле "Месяц" указать 13, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Кредит по  карте, указан невалидный месяц   
Номер карты 4444 4444 4444 4441, в поле "Месяц" указать 13, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Оплата по карте, оставить поле месяц пустым.
Номер карты 4444 4444 4444 4441. Поле "Месяц" оставить пустым, остальные поля заполнены корректными значениями 
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Поле обязательно для заполнения"

1. Кредит по карте, оставить поле  месяц пустым.
Номер карты 4444 4444 4444 4441. Поле "Месяц" оставить пустым, остальные поля заполнены корректными значениями 
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Поле обязательно для заполнения"

1. Оплата по карте с истекшим сроком действия от года выпуска
Номер карты 4444 4444 4444 4441. В поле "Год" указать любой предыдущий год до настоящего, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Истёк срок действия карты".

1. Кредит по карте с истекшим сроком действия от года выпуска
Номер карты 4444 4444 4444 4441. В поле "Год" указать любой предыдущий год до настоящего, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Истёк срок действия карты".

1. Оплата по карте, указан невалидный год  действия
Номер карты 4444 4444 4444 4441, в поле "Год" указать "год равный  >=+ 6 к году указанному на карте", остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Кредит по карте, указан невалидный год   действия
Номер карты 4444 4444 4444 4441, в поле "Год" указать "год равный  >=+ 6 к году указанному на карте", остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Оплата по карте, оставить поле год пустым.
Номер карты 4444 4444 4444 4441. Поле "Год" оставить пустым, остальные поля заполнены корректными значениями 
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Поле обязательно для заполнения"

1. Кредит по карте, оставить поле  год пустым.
Номер карты 4444 4444 4444 4441. Поле "Год" оставить пустым, остальные поля заполнены корректными значениями 
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Поле обязательно для заполнения"

1. Оплата по карте, указан невалидный год  
Номер карты 4444 4444 4444 4441, в поле "Год" указать 0, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Кредит по  карте, указан невалидный год   
Номер карты 4444 4444 4444 4441, в поле "Год" указать 0, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Неверно указан срок действия карты".

1. Оплата по данным карты, указано некорректное значение в поле "Владелец".
Номер карты 4444 4444 4444 4441. В поле "Владелец" указать некорректные данные, остальные поля заполнены корректно 
Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке "Поле обязательно для заполнения", запрос на оплату не отправляется Ожидаемый результат: записи в БД нет

1. Кредит по данным карты, указано некорректное значение в поле "Владелец"   
Номер карты 4444 4444 4444 4441. В поле "Владелец" указать некорректные данные, остальные поля заполнены корректно  
Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке "Поле обязательно для заполнения", запрос на кредит не отправляется Ожидаемый результат: записи в БД нет

1. Оплата по данным карты, указано некорректное значение в поле "Владелец".
Номер карты 4444 4444 4444 4441. Поле "Владелец" заполнить именем на кириллице, остальные поля заполнены корректно 
Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке "Поле обязательно для заполнения"
Ожидаемый результат: записи в БД нет

1. Кредит по данным карты, указано некорректное значение в поле "Владелец"   
Номер карты 4444 4444 4444 4441. Поле "Владелец" заполнить именем на кириллице, остальные поля заполнены корректно  
Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке "Поле обязательно для заполнения"
Ожидаемый результат: записи в БД нет

1. Оплата по данным карты, указано некорректное значение в поле "Владелец".
Номер карты 4444 4444 4444 4441. Поле "Владелец" заполнить цифрами, остальные поля заполнены корректно 
Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке "Поле обязательно для заполнения"
Ожидаемый результат: записи в БД нет

1. Кредит по данным карты, указано некорректное значение в поле "Владелец"   
Номер карты 4444 4444 4444 4441. Поле "Владелец" заполнить цифрами, остальные поля заполнены корректно  
Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке "Поле обязательно для заполнения"
Ожидаемый результат: записи в БД нет

1. Оплата по данным карты, указано некорректное значение в поле "Владелец".
Номер карты 4444 4444 4444 4441. Поле "Владелец" заполнить спецсимволами, остальные поля заполнены корректно 
Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке "Поле обязательно для заполнения"
Ожидаемый результат: записи в БД нет


1. Кредит по данным карты, указано некорректное значение в поле "Владелец"   
Номер карты 4444 4444 4444 4441. Поле "Владелец" заполнить спецсимволами, остальные поля заполнены корректно  
Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке "Поле обязательно для заполнения"
Ожидаемый результат: записи в БД нет


1. Оплата по карте, оставить поле Владелец пустым.
Номер карты 4444 4444 4444 4441. Поле "Владелец" оставить пустым, остальные поля заполнены корректными значениями 
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Поле обязательно для заполнения"
Ожидаемый результат: записи в БД нет


1. Кредит по карте, оставить поле  Владелец пустым.
Номер карты 4444 4444 4444 4441. Поле "Владелец" оставить пустым, остальные поля заполнены корректными значениями 
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Поле обязательно для заполнения"
Ожидаемый результат: записи в БД нет


1. Оплата по данным карты, указано некорректное значение в поле CVC/CVV   
Номер карты 4444 4444 4444 4441. В "CVC/CVV" указать 1, остальные поля заполнены корректно
Ожидаемый результат: под полем "CVC/CVV" появилось сообщение об ошибке "Неверный формат"
Ожидаемый результат: записи в БД нет

1. Кредит по данным карты, указано некорректное значение в поле CVC/CVV   
Номер карты 4444 4444 4444 4441. В поле "CVC/CVV" указать 1, остальные поля заполнены корректно
Ожидаемый результат: под полем "CVC/CVV" появилось сообщение об ошибке "Неверный формат".
Ожидаемый результат: записи в БД нет

1. Оплата по карте, оставить поле CVC/CVV пустым.
Номер карты 4444 4444 4444 4441. Поле "CVC/CVV" оставить пустым, остальные поля заполнены корректными значениями 
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Поле обязательно для заполнения"
Ожидаемый результат: записи в БД нет

1. Кредит по карте, оставить поле  CVC/CVV пустым.
Номер карты 4444 4444 4444 4441. Поле "CVC/CVV" оставить пустым, остальные поля заполнены корректными значениями 
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Поле обязательно для заполнения"
Ожидаемый результат: записи в БД нет

1. Оплата по карте, указан невалидный CVC/CVV  
Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 000, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Неверный формат".
Ожидаемый результат: записи в БД нет

1. Кредит по  карте, указан невалидный CVC/CVV  
Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 000, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем CVC/CVV появилось сообщение об ошибке "Неверный формат".
Ожидаемый результат: записи в БД нет

***
## Перечень используемых инструментов с обоснованием выбора 
* Java JDK 11 - язык программирования
* Gradle - система автоматизации сборки и управления зависимостями
* JUnit — платформа для написания авто-тестов и их запуска 
* Allure - фреймворк, предназначенный для создания отчетов.
* Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver.
* Docker - инструмент, позволяющий запускать мультиконтейнерные приложения.
* IntelliJ IDEA - инструмент для работы над кодом
* Google Chrome - инструмент для работы с интерфейсом сайта

***
## Перечень и описание возможных рисков при автоматизации 
* ТЗ и документации нет, сложно понять - как должно работать приложение и какое поведение системы будет считаться ошибочным.
* Поскольку необходима поддержка двух СУБД (MySQL, Postgres), возможны проблемы.
* Сложности с поиском правильных локаторов элементов на страницах приложения так, как не у всех есть уникальные номера.

***
## Интервальная оценка с учетом рисков (в часах) 
Настройка тестового окружения - 8  
Написание и отладка автотестов - 72  
Прогон тестов и заведение issue - 8   
Подготовка отчета тестирования - 8  
Интеграция проекта с CI - 8

***
## План сдачи работ 
Автоматизация - до 20.09.2021  
Подготовка и сдача отчетных документов - до 26.09.2021  
