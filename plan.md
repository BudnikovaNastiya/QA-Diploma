# План автоматизации 

### Виды тестирования
* Функциональноое тестиование приложения покупки путешествия через дебетовую и кредитную карты.
* Тестирование пользовательского интерфейса.

### Тестовые данные
Карты, предоставленные для тестирования в файле data.json:
* 4444 4444 4444 4441
* 4444 4444 4444 4442

Валидными-корректными данными при заполнении полей ввода в приложении следует считать:
* Поле "Номер карты": цифры, 16 шт. Данные с платежной карты.
* Поле "Месяц": цифры 01-12, не ранее текущего месяца, если год окончания действия карты - год подачи заявки. Данные с платежной карты.
* Поле "Год": последние две цифры  номера года, не ранее текущего года.  Не более + 5  лет от текущего года. Данные с платежной карты.
* Поле "Владелец": буквы  латинского алфавита. Данные с платежной карты.
* Поле "CVC": цифры, 3 шт. С оборота платежной карты.

Не валидными и некорректными данными считать:
* Поле "Номер карты": количество цифр меньше 16 шт.
* Поле "Месяц": цифры 00, 13. Предыдущий месяц, любой до текущего.
* Поле "Год": любой предыдущий год до настоящего. Год который >=+ 6 лет к году указанному на карте.
* Поле "Владелец": ввод любых символов не являющихся буквами латинского алфавита.
* Поле "CVC": количество цифр менее 3 шт.

Базы данных использюемые для тестирования:
* MySql
* PostgreSQL 

***
## Перечень автоматизируемых сценариев 

Необходимо автоматизиовать проверку оплаты тура по дебетовой и кредитной карте позитивными и негативными сценариями которые будут включать в себя проверку успешности проведения операции и вводимые для операции данные.

* Шаги при оплате дебетовой картой:
1. Нажать на кнопку с надписью Купить. 
2. Ввести данные дебетовой карты и нажать кнопку с надписью Продолжить. 
3. Проверить, что оплата прошла успешно и появилось сообщение, о том что тур куплен(позитивный сценарий) или проверить наличие сообщения об ошибке если операция отклонена банком либо введены некоректные данные(негативный сценарий).

* Шаги при оплате кредитной картой:
1. Нажать на кнопку с надписью Купить в кредит. 
2. Ввести данные кредитной карты и нажать кнопку с надписью Продолжить. 
3. Проверить, что оплата прошла успешно и появилось сообщение, о том что тур куплен(позитивный сценарий) или проверить наличие сообщения об ошибке если операция отклонена банком либо введены некоректные данные(негативный сценарий).

### Тестовые сценарии 

#### Позитивные сценарии 
1. Оплата картой.
Номер карты 4444 4444 4444 4441. Все поля заполнены корректными данными.
Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком". 

2. Кредит по карте.
Номер карты 4444 4444 4444 4441. Все поля заполнены корректными данными.
Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком".

#### Негативные сценарии 
1. Оплата по карте.
Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями   
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции".

2. Кредит по карте.
Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями  
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции".

3. Оплата по карте, с неверным номером карты.
Номер карты 4444 4444 4444 4443, остальные поля заполнены корректными значениями  
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции".

4. Кредит по карте, с неверным номером карты. 
Номер карты 4444 4444 4444 4443, остальные поля заполнены корректными значениями  
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции".

5. Оплата по карте, указан невалидный номер.
Номер карты 4444 4444 4444 444, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Неверный формат"

6. Кредит по карте, указан невалидный номер.
Номер карты 4444 4444 4444 444, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Номер карты" появилось сообщение об ошибке "Неверный формат".

7. Оплата по карте с истекшим сроком действия по месяцу действия. 
Номер карты 4444 4444 4444 4441. В Поле "Месяц" указать  предыдущий месяц, любой до текущего. Текущий год, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

8. Кредит по карте с истекшим сроком действия по месяцу действия.
Номер карты 4444 4444 4444 4441,  В Поле "Месяц" указать  предыдущий месяц, любой до текущего. Текущий год, остальные поля заполнены корректными значениями.
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

9. Оплата по карте, указан невалидный месяц   
Номер карты 4444 4444 4444 4441, в поле "Месяц" указать 00, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

10. Кредит по  карте, указан невалидный месяц   
Номер карты 4444 4444 4444 4441, в поле "Месяц" указать 00, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

11. Оплата по  карте, указан невалидный месяц   
Номер карты 4444 4444 4444 4441, в поле "Месяц" указать 13, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

12. Кредит по  карте, указан невалидный месяц   
Номер карты 4444 4444 4444 4441, в поле "Месяц" указать 13, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Неверно указан срок действия карты".

13. Оплата по карте с истекшим сроком действия от года выпуска
Номер карты 4444 4444 4444 4441. В поле "Год" указать любой предыдущий год до настоящего, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Истёк срок действия карты".

14. Кредит по карте с истекшим сроком действия от года выпуска
Номер карты 4444 4444 4444 4441. В поле "Год" указать любой предыдущий год до настоящего, остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Истёк срок действия карты".

15. Оплата по карте, указан невалидный год  действия
Номер карты 4444 4444 4444 4441, в поле "Год" указать "год равный  >=+ 6 к году указанному на карте", остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Неверно указан срок действия карты".

16. Кредит по карте, указан невалидный год   действия
Номер карты 4444 4444 4444 4441, в поле "Год" указать "год равный  >=+ 6 к году указанному на карте", остальные поля заполнены корректными значениями  
Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Неверно указан срок действия карты".

17. Оплата по данным карты, указано некорректное значение в поле "Владелец".
Номер карты 4444 4444 4444 4441. В поле "Владелец" указать некорректные данные, остальные поля заполнены корректно 
Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке "Поле обязательно для заполнения"

18. Кредит по данным карты, указано некорректное значение в поле "Владелец"   
Номер карты 4444 4444 4444 4441. В поле "Владелец" указать некорректные данные, остальные поля заполнены корректно  
Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке "Поле обязательно для заполнения"

19. Оплата по данным карты, указано некорректное значение в поле CVC/CVV   
Номер карты 4444 4444 4444 4441. В "CVC/CVV" указать 1, остальные поля заполнены корректно
Ожидаемый результат: под полем "CVC/CVV" появилось сообщение об ошибке "Неверный формат"

20. Кредит по данным карты, указано некорректное значение в поле CVC/CVV   
Номер карты 4444 4444 4444 4441. В поле "CVC/CVV" указать 1, остальные поля заполнены корректно
Ожидаемый результат: под полем "CVC/CVV" появилось сообщение об ошибке "Неверный формат".

***
## Перечень используемых инструментов с обоснованием выбора 
* Java JDK 11 - язык программирования
* Gradle - система автоматизации сборки и управления зависимостями
* JUnit — платформа для написания авто-тестов и их запуска 
* Allure - фреймворк, предназначенный для создания отчетов.
* Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver.
* Docker - инструмент, позволяющий запускать мультиконтейнерные приложения.
* IntelliJ IDEA - инструмент для работы над кодом
* Google Chrome - инструмент для работы с интерфейсом сайта

***
## Перечень и описание возможных рисков при автоматизации 
* ТЗ и документации нет, сложно понять - как должно работать приложение и какое поведение системы будет считаться ошибочным.
* Поскольку необходима поддержка двух СУБД (MySQL, Postgres), возможны проблемы.
* Сложности с поиском правильных локаторов элементов на страницах приложения так, как не у всех есть уникальные номера.

***
## Интервальная оценка с учетом рисков (в часах) 
Настройка тестового окружения - 8  
Написание и отладка автотестов - 72  
Прогон тестов и заведение issue - 8   
Подготовка отчета тестирования - 8  
Интеграция проекта с CI - 8

***
## План сдачи работ 
Автоматизация - до 13.09.2021  
Подготовка и сдача отчетных документов - до 16.09.2021  
